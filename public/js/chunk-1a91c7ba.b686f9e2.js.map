{"version":3,"sources":["webpack:///./src/views/login/Login.vue?a4cd","webpack:///./src/views/login/Login.vue?0a18","webpack:///src/views/login/Login.vue","webpack:///./src/views/login/Login.vue?c202","webpack:///./src/views/login/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","slot","_v","staticClass","directives","name","rawName","value","expression","key","domProps","on","$event","target","composing","phone","curIndex","ref","login_type","sendPass","staticRenderFns","component"],"mappings":"2IAAA,yBAAsf,EAAG,G,yCCAzf,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACA,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,OAAOC,KAAK,OAAO,CAACP,EAAIQ,GAAG,aAAaJ,EAAG,MAAM,CAACK,YAAY,eAAeL,EAAG,MAAM,CAACK,YAAY,QAAQ,CAACL,EAAG,QAAQ,CAACM,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOb,EAAS,MAAEc,WAAW,UAAUC,IAAI,SAAST,MAAM,CAAC,KAAO,OAAO,YAAc,SAASU,SAAS,CAAC,MAAShB,EAAS,OAAGiB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,YAAqBpB,EAAIqB,MAAMH,EAAOC,OAAON,aAAYT,EAAG,aAAa,CAAgB,GAAdJ,EAAIsB,SAAalB,EAAG,aAAa,CAACmB,IAAI,cAAcnB,EAAG,aAAa,CAACmB,IAAI,YAAYjB,MAAM,CAAC,MAAQN,EAAIqB,MAAM,KAAOrB,EAAIwB,eAAe,GAAGpB,EAAG,SAAS,CAACK,YAAY,WAAWQ,GAAG,CAAC,MAAQjB,EAAIyB,WAAW,CAACzB,EAAIQ,GAAG,WAAW,IACnwBkB,EAAkB,G,wvBCmCtB,OACE,KAAF,QACE,WAAF,CACI,OAAJ,OACI,UAAJ,OACI,UAAJ,OACI,SAAJ,QAEE,KARF,WASI,MAAJ,CACM,SAAN,EACM,UAAN,SACM,MAAN,GACM,SAAN,GACM,WAAN,IAGE,QAjBF,WAkBA,sBACM,KAAN,+BAGE,QAAF,KACA,2BADA,CAGI,UAHJ,SAGA,GACM,KAAN,YAEI,QANJ,SAMA,GACM,OAAN,gCAEI,SATJ,WASM,IAAN,OACA,iBACQ,KAAR,uCAEQ,KAAR,uCAEA,uDACQ,OAAR,OAAQ,CAAR,4DACA,cACY,EAAZ,aACY,EAAZ,+BAEY,EAAZ,sBAIQ,KAAR,4BCnF8V,I,wBCQ1VC,EAAY,eACd,EACA5B,EACA2B,GACA,EACA,KACA,WACA,MAIa,aAAAC,E","file":"js/chunk-1a91c7ba.b686f9e2.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=4b2cb446&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=4b2cb446&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav-bar',[_c('p',{attrs:{\"slot\":\"mid\"},slot:\"mid\"},[_vm._v(\"工器具管理\")])]),_c('div',{staticClass:\"login-type\"}),_c('div',{staticClass:\"pass\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.phone),expression:\"phone\"}],key:\"phone1\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入账号\"},domProps:{\"value\":(_vm.phone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.phone=$event.target.value}}})]),_c('keep-alive',[(_vm.curIndex==0)?_c('login-pass',{ref:\"loginpass\"}):_c('login-code',{ref:\"logincode\",attrs:{\"phone\":_vm.phone,\"type\":_vm.login_type}})],1),_c('button',{staticClass:\"loginBtn\",on:{\"click\":_vm.sendPass}},[_vm._v(\"立即登录\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <nav-bar>\r\n      <p slot=\"mid\">工器具管理</p>\r\n    </nav-bar>\r\n    <div class=\"login-type\">\r\n<!--      <div class=\"login-btn\" v-for=\"(v,i) in loginType\" :key=\"i\" @click=\"LoginType(i)\" :class=\"changeA(i)\">-->\r\n<!--        <span>-->\r\n<!--          {{v}}-->\r\n<!--        </span>-->\r\n<!--      </div>-->\r\n    </div>\r\n    <div class=\"pass\">\r\n      <input type=\"text\" placeholder=\"请输入账号\" key=\"phone1\" v-model=\"phone\">\r\n    </div>\r\n    <keep-alive>\r\n      <login-pass v-if=\"curIndex==0\" ref=\"loginpass\"></login-pass>\r\n      <login-code v-else ref=\"logincode\" :phone=\"phone\" :type=\"login_type\"></login-code>\r\n    </keep-alive>\r\n    <button class=\"loginBtn\" @click=\"sendPass\">立即登录</button>\r\n<!--    <login-bar>-->\r\n<!--      <span slot=\"loginLeft\"><router-link to=\"/login/register\">立即注册</router-link></span>-->\r\n<!--      <span slot=\"loginRight\"><router-link to=\"/login/editpass\">忘记密码</router-link></span>-->\r\n<!--    </login-bar>-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import navBar from 'components/navBar/navBar';\r\n  import loginCode from \"./LoginItem/loginCode\";\r\n  import loginPass from \"./LoginItem/loginPass\";\r\n  import loginBar from \"./LoginItem/loginBar\";\r\n\r\n  import {getLogin} from \"network/login\"\r\n  import { mapActions } from 'vuex'\r\n  import Until from 'common/Until'\r\n  export default {\r\n    name: \"Login\",\r\n    components:{\r\n      navBar,\r\n      loginCode,\r\n      loginPass,\r\n      loginBar,\r\n    },\r\n    data(){\r\n      return{\r\n        curIndex:0,\r\n        loginType:['立即登录'],\r\n        phone: '',\r\n        password:'',\r\n        login_type:1\r\n      }\r\n    },\r\n    created(){\r\n      if (this.$store.state.Us){\r\n        this.$router.replace('/user/user')\r\n      }\r\n    },\r\n    methods:{\r\n      ...mapActions([ 'alogin', // 将 `this.alogin()` 映射为 `this.$store.dispatch('alogin')`\r\n      ]),\r\n      LoginType(i){\r\n        this.curIndex = i;\r\n      },\r\n      changeA(i){\r\n        return this.curIndex == i ? ['active'] : ''\r\n      },\r\n      sendPass(){\r\n        if (this.curIndex == 0){\r\n          this.password = this.$refs.loginpass.password\r\n        }else{\r\n          this.password = this.$refs.logincode.password\r\n        }\r\n        if (Until.checkPhone(this.phone) && this.password.length >= 6){\r\n          getLogin(this.phone,this.password,this.curIndex+1).then(res=>{\r\n            if (res.State == 200){\r\n              this.alogin(res.Us)\r\n              this.$router.replace('/user/user')\r\n            }else{\r\n              this.$toast.show(res.Msg)\r\n            }\r\n          })\r\n        }else{\r\n          this.$toast.show('手机号或密码有误')\r\n        }\r\n\r\n      }\r\n\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .login-type{\r\n    display: flex;\r\n    text-align: center;\r\n    padding-top: 30px;\r\n    color: var(--color-text);\r\n    padding-bottom: 50px;\r\n  }\r\n  .login-btn{\r\n    flex: 1;\r\n    height: 24px; line-height: 24px;\r\n  }\r\n  .active span{\r\n    border-bottom: 3px solid #215eec;\r\n    padding-bottom: 10px;\r\n  }\r\n  .pass{\r\n    padding: 20px;\r\n  }\r\n  .pass input{\r\n    border: none;\r\n    border-bottom: 1px solid #ddd;\r\n    width: 100%;\r\n    padding: 10px 0px;\r\n  }\r\n  .loginBtn{\r\n    background-color: #2360ec;\r\n    border:none;\r\n    width: 80%;\r\n    border-radius: 20px;\r\n    height: 40px;\r\n    color: #fff;\r\n    margin-top: 50px;\r\n    box-shadow: 0px 0px 5px #2360ec;\r\n    transform: translate(10%,10%);\r\n  }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=4b2cb446&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=4b2cb446&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b2cb446\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}