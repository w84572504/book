(function(t){function e(e){for(var a,i,c=e[0],s=e[1],u=e[2],l=0,d=[];l<c.length;l++)i=c[l],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);f&&f(e);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(a=!1)}a&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},i={app:0},r={app:0},o=[];function c(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-2d0aaf94":"5130ef9a","chunk-2d0cbf32":"97b708b7","chunk-2d21a403":"9d33c552","chunk-2d2308ec":"ab3db09c","chunk-4e559840":"900e89a8","chunk-56ba0aed":"e7a14309"}[t]+".js"}function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n={"chunk-56ba0aed":1};i[t]?e.push(i[t]):0!==i[t]&&n[t]&&e.push(i[t]=new Promise((function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-2d0aaf94":"31d6cfe0","chunk-2d0cbf32":"31d6cfe0","chunk-2d21a403":"31d6cfe0","chunk-2d2308ec":"31d6cfe0","chunk-4e559840":"31d6cfe0","chunk-56ba0aed":"d1ad90da"}[t]+".css",r=s.p+a,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var u=o[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===r))return e()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===a||l===r)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var a=e&&e.target&&e.target.src||r,o=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=a,delete i[t],f.parentNode.removeChild(f),n(o)},f.href=r;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){i[t]=0})));var a=r[t];if(0!==a)if(a)e.push(a[2]);else{var o=new Promise((function(e,n){a=r[t]=[e,n]}));e.push(a[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(f);var n=r[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",d.name="ChunkLoadError",d.type=a,d.request=i,n[1](d)}r[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var f=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("85ec"),i=n.n(a);i.a},"0a0d":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("top-li",{attrs:{data:t.data,onid:t.onid,time:t.time},on:{changeListId:t.getData}}),n("van-swipe",{staticClass:"ban",attrs:{autoplay:6e3,"indicator-color":"white"}},t._l(t.banner,(function(t,e){return n("van-swipe-item",{key:e},[n("img",{staticClass:"banner",attrs:{src:t.img}})])})),1),n("hline"),n("list",{attrs:{list:t.list}})],1)},i=[],r=(n("d81d"),n("a434"),n("7eac")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-row",{staticClass:"top",attrs:{justify:"center",type:"flex"}},[n("van-col",{staticClass:"top-box",attrs:{span:"22"}},[n("van-row",[n("van-col",{attrs:{span:"15"}},[n("ul",{staticClass:"index_list"},t._l(t.data,(function(e,a){return n("li",{key:a,class:t.isActive(a),on:{click:function(n){return t.changeList(a,e.id)}}},[t._v(t._s(e.name))])})),0)]),n("van-col",{attrs:{span:"6"}},[n("p",{staticClass:"time tnum"},[t._v(t._s(t.time))])]),n("van-col",{attrs:{span:"3"}},[n("p",{staticClass:"time ttext"},[t._v("更新")])])],1)],1)],1)],1)},c=[],s=(n("a9e3"),{name:"topLi",data:function(){return{acid:this.onid}},props:{data:Array,onid:Number,time:String},methods:{changeList:function(t,e){this.acid=t,this.$emit("changeListId",e)},isActive:function(t){return this.acid===t?["onactive"]:""}},computed:{}}),u=s,l=(n("1ef4"),n("2877")),d=Object(l["a"])(u,o,c,!1,null,"76d467c6",null),f=d.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ul",t._l(t.arr,(function(e,a){return n("li",{key:a},[n("van-row",{staticClass:"list-li",attrs:{justify:"center",type:"flex"}},[n("van-col",{staticClass:"top-box",attrs:{span:"20"}},[n("p",{ref:"text"+e.id,refInFor:!0,staticClass:"li-con li-ov",domProps:{innerHTML:t._s(e.content)}}),n("p",{staticClass:"li-tit"},[t._v("《"+t._s(e.title)+"》")]),n("div",{staticStyle:{clear:"both"}}),n("p",{ref:"more"+e.id,refInFor:!0,staticClass:"li-tit",staticStyle:{color:"#20a8ff"},on:{click:function(n){return t.loadMore(e.id)}}},[t._v("显示全文 >")]),n("div",{staticStyle:{clear:"both"}}),n("span",{staticClass:"li-btn"},[n("zan",{attrs:{zan:e.zan,id:e.id}})],1)])],1),n("hline")],1)})),0)])},m=[],p=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},v=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"line"})])}],g={name:"hline"},b=g,y=(n("a63c"),Object(l["a"])(b,p,v,!1,null,"3b0f0811",null)),x=y.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-icon",{staticClass:"li-icon",attrs:{name:"replay",color:"#C7C7C7",size:"1.4rem"}}),n("van-icon",{staticClass:"li-icon",attrs:{name:"share",color:"#C7C7C7",size:"1.4rem"},on:{click:function(e){return t.share(t.id)}}}),n("van-icon",{staticClass:"li-icon",attrs:{name:"paid",color:"#C7C7C7",size:"1.4rem"}}),n("van-icon",{staticClass:"li-icon",attrs:{name:t.getIcon(t.status),color:t.getColor(t.status),size:"1.4rem"},on:{click:function(e){return t.changeZan(t.status,t.id)}}}),n("van-popup",{style:{height:"20%"},attrs:{round:"",position:"bottom"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("van-row",{staticClass:"list-li",attrs:{justify:"center",type:"flex"}},[n("van-col",{staticClass:"top-box",attrs:{span:"20"}},[n("van-grid",{staticClass:"libtn",attrs:{border:!1}},[n("van-grid-item",{attrs:{icon:"chat-o",text:"微信"},on:{click:function(t){}}}),n("van-grid-item",{attrs:{icon:"photo-o",text:"朋友圈"}}),n("van-grid-item",{attrs:{icon:"photo-o",text:"复制链接"}}),n("van-grid-item",{attrs:{icon:"photo-o",text:"生成海报"}})],1)],1),n("button",{staticClass:"noshow",on:{click:function(e){t.show=!1}}},[t._v("取消")])],1)],1)],1)},w=[],C=n("1bab"),k=n("4328"),L=n.n(k);function A(){var t={url:"api/index",method:"post"};return Object(C["a"])(t)}function O(t){var e={id:t},n={url:"api/getlist",method:"post",data:L.a.stringify(e)};return Object(C["a"])(n)}function j(t,e){var n={id:t,status:e},a={url:"api/changezan",method:"post",data:L.a.stringify(n)};return Object(C["a"])(a)}var z=n("18a0"),I=n.n(z),S={name:"Zan",comments:{wx:I.a},props:{zan:Number,id:Number},data:function(){return{status:this.zan,show:!1}},methods:{getIcon:function(t){return 1==t?"good-job":"good-job-o"},getColor:function(t){return 1==t?"#ffa98d":"#C7C7C7"},changeZan:function(t,e){this.status=1==t?0:1,j(e,this.status).then()},share:function(t){this.show=!0},_weconfig:function(){I.a.config({debug:!0,appId:"",timestamp:123,nonceStr:"",signature:"",jsApiList:[]})}}},E=S,$=(n("121c"),Object(l["a"])(E,_,w,!1,null,"91977e32",null)),T=$.exports,N={name:"List",components:{Hline:x,Zan:T},props:{list:Array},data:function(){return{arr:this.list,show:!1}},methods:{loadMore:function(t){var e="text"+t,n="more"+t;"收起"==this.$refs[n][0].innerHTML?(this.$refs[e][0].style.height="60px",this.$refs[n][0].innerHTML="显示全文 >"):(this.$refs[e][0].style.height="auto",this.$refs[n][0].innerHTML="收起")}}},P=N,M=(n("418a"),Object(l["a"])(P,h,m,!1,null,"0cab8749",null)),D=M.exports,H={name:"Index",components:{List:D,tabBar:r["a"],topLi:f,Hline:x},data:function(){return{active:"0",banner:"",time:"",data:[],onid:0,list:[]}},created:function(){this._getIndex()},methods:{_getIndex:function(){var t=this;A().then((function(e){200==e.code?(console.log(e.msg),t.time=e.msg.time,t.banner=e.msg.banner,t.data=e.msg.list,t.onid=t.data[0].id,t._getList(t.onid)):t.$toast.fail(e.msg)}))},_getList:function(t){var e=this;O(t).then((function(t){if(200==t.code){console.log(t);var n=t.msg.data;0!=n.length&&n.map((function(t){e.list.push(t)}))}else e.$toast.fail(t.msg)}))},getData:function(t){this.list.splice(0,this.list.length),this._getList(t)}}},G=H,B=(n("92a3"),Object(l["a"])(G,a,i,!1,null,"f389299a",null));e["default"]=B.exports},"121c":function(t,e,n){"use strict";var a=n("1dc2"),i=n.n(a);i.a},"1bab":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n("d3b7");var a=n("bc3a"),i=n.n(a),r=n("4360"),o=n("d399");function c(t){var e=i.a.create({baseURL:"http://www.baicaiec.com/",timeout:5e3,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}});return e.interceptors.request.use((function(t){console.log(t.url),"api/changezan"!=t.url&&o["a"].loading({message:"加载中...",forbidClick:!0,loadingType:"spinner"});return"get"===t.method&&void 0!==t.params&&t.params,r["a"].state.Authorization&&(t.headers.Authorization=r["a"].state.Authorization),t}),(function(t){return o["a"].clear(),Promise.reject(t)})),e.interceptors.response.use((function(t){return o["a"].clear(),100==t.data.status&&r["a"].commit("logout"),t.data}),(function(t){o["a"].clear(),console.log(t)})),e(t)}},"1dc2":function(t,e,n){},"1ef4":function(t,e,n){"use strict";var a=n("5f44"),i=n.n(a);i.a},"418a":function(t,e,n){"use strict";var a=n("f1c7"),i=n.n(a);i.a},4360:function(t,e,n){"use strict";var a=n("2b0e"),i=n("2f62"),r={Authorization:function(t,e){localStorage.setItem("Authorization",e),t.Authorization=e},uinfo:function(t,e){localStorage.setItem("data",JSON.stringify(e)),t.user=JSON.stringify(e)},logout:function(t){localStorage.removeItem("Authorization"),localStorage.removeItem("data"),t.Authorization=null,t.user={}},showLoading:function(t){t.LOADING=!0},hideLoading:function(t){t.LOADING=!1}},o={alogin:function(t,e){var n=t.commit;n("Authorization",e)},uinfo:function(t,e){var n=t.commit;n("uinfo",e)},alogout:function(t){var e=t.commit;e("logout")}},c={getLoding:function(t){return t.LOADING},getUserInfo:function(t){return t.user}},s={};a["a"].use(i["a"]);var u={user:{},Authorization:null,LOADING:!1};e["a"]=new i["a"].Store({state:u,mutations:r,getters:c,actions:o,modules:s})},"4f7e":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view"),n("loading")],1)},r=[],o=n("0a0d"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-popup",{attrs:{value:t.LOADING}},[n("van-loading",{attrs:{size:"24px",vertical:""}},[t._v("加载中...")])],1)],1)},s=[],u=n("2f62"),l={name:"Loding",data:function(){return{}},computed:Object(u["c"])(["LOADING"])},d=l,f=n("2877"),h=Object(f["a"])(d,c,s,!1,null,"e55bbe6e",null),m=h.exports,p={name:"home",components:{Index:o["default"],Loading:m}},v=p,g=(n("034f"),Object(f["a"])(v,i,r,!1,null,null,null)),b=g.exports,y=(n("d3b7"),n("8c4f")),x=n("4360");n("ac1f"),n("466d");function _(t){return!!/^1\d{10}$/.test(t)}var w=function(t,e){var n="";return function(a){n&&clearTimeout(n),n=setTimeout((function(){t(a)}),e)}};function C(){var t=window.navigator.userAgent.toLowerCase();return"micromessenger"==t.match(/MicroMessenger/i)}var k={checkPhone:_,debounce:w,isWeiXin:C};a["a"].use(y["a"]);var L=function(){return n.e("chunk-2d21a403").then(n.bind(null,"bb5b"))},A=function(){return Promise.resolve().then(n.bind(null,"0a0d"))},O=function(){return n.e("chunk-2d0cbf32").then(n.bind(null,"4c9f"))},j=function(){return n.e("chunk-2d2308ec").then(n.bind(null,"ed90"))},z=function(){return n.e("chunk-2d0aaf94").then(n.bind(null,"12fc"))},I=function(){return n.e("chunk-56ba0aed").then(n.bind(null,"f191"))},S=function(){return n.e("chunk-4e559840").then(n.bind(null,"3738"))},E=[{path:"/",redirect:"/index/index"},{path:"/index",component:L,meta:{islogin:!0,title:"左巷"},children:[{path:"index",name:"index",component:A,meta:{islogin:!0,title:"左巷"}},{path:"story",name:"story",component:O,meta:{islogin:!0,title:"故事"}},{path:"rember",name:"rember",component:j,meta:{islogin:!0,title:"记录"}},{path:"about",name:"about",component:z,meta:{islogin:!0,title:"关于你"}}]},{path:"/weixin",component:I,meta:{islogin:!1}},{path:"/author",component:S,meta:{islogin:!1}}];localStorage.getItem("Authorization")&&x["a"].commit("Authorization",localStorage.Authorization);var $=new y["a"]({mode:"history",base:"/",routes:E});$.beforeEach((function(t,e,n){var a=k.isWeiXin(),i=t.path;a?t.matched.some((function(t){return t.meta.islogin}))?x["a"].state.Authorization?(t.meta.title&&(document.title=t.meta.title),n()):n({path:"/author",query:{redirect:t.fullPath}}):n():"/weixin"==i?n():n({path:"/weixin"})}));var T=$,N=n("b970");n("157a");a["a"].use(N["a"]),a["a"].config.productionTip=!1,new a["a"]({router:T,store:x["a"],render:function(t){return t(b)}}).$mount("#app")},"5f44":function(t,e,n){},"7eac":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{height:"60px"}}),n("van-tabbar",{attrs:{"active-color":"#333333","inactive-color":"#979797"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[n("van-tabbar-item",{attrs:{name:"index",icon:"home-o",to:"/index/index"}},[t._v("左巷")]),n("van-tabbar-item",{attrs:{name:"story",icon:"search",to:"/index/story"}},[t._v("故事")]),n("van-tabbar-item",{attrs:{name:"rember",icon:"friends-o",to:"/index/rember"}},[t._v("记录")]),n("van-tabbar-item",{attrs:{name:"about",icon:"setting-o",to:"/index/about"}},[t._v("关于你")])],1)],1)},i=[],r={name:"tabBar",data:function(){return{active:"index"}},created:function(){}},o=r,c=n("2877"),s=Object(c["a"])(o,a,i,!1,null,"602c4fe3",null);e["a"]=s.exports},"85ec":function(t,e,n){},"92a3":function(t,e,n){"use strict";var a=n("4f7e"),i=n.n(a);i.a},a63c:function(t,e,n){"use strict";var a=n("ea81"),i=n.n(a);i.a},ea81:function(t,e,n){},f1c7:function(t,e,n){}});
//# sourceMappingURL=app.e22fc1c1.js.map